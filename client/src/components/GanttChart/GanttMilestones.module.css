/* ============================================================
 * GanttMilestones — diamond markers SVG layer
 * ============================================================ */

/* Diamond group — interactive hit target */
.diamond {
  cursor: pointer;
  outline: none;
  transition:
    filter var(--transition-normal),
    transform var(--transition-normal);
  transform-origin: center;
}

.diamond:hover,
.diamond:focus-visible {
  /* filter uses the --milestone-hover-glow CSS var set inline per diamond */
  filter: drop-shadow(0 0 5px var(--milestone-hover-glow, rgba(59, 130, 246, 0.25)));
}

.diamond:focus-visible {
  filter: drop-shadow(0 0 0 3px var(--color-focus-ring));
}

/* Late milestone state — fill/stroke set via inline props; class used for CSS targeting */
.diamondLate {
  /* No extra styles beyond diamond base — fill/stroke resolved from color tokens via props */
}

/* Ghost diamond — planned position for late milestones */
.diamondGhost {
  opacity: 0.4;
  pointer-events: none;
}

/* The polygon itself — no extra styles needed since fill/stroke set via props */
.diamondPolygon {
  pointer-events: none; /* Clicks handled by parent <g> hit area */
}

/* Arrow hover interaction states */

.milestoneHighlighted {
  /* Connected endpoint: brightness boost + glow */
  filter: brightness(1.25) drop-shadow(0 0 5px var(--color-primary));
  opacity: 1;
  transition:
    filter var(--transition-normal),
    opacity var(--transition-normal);
}

.milestoneDimmed {
  opacity: 0.3;
  transition: opacity var(--transition-normal);
}

/* Dimmed diamonds must not respond to hover brightness */
.milestoneDimmed:hover,
.milestoneDimmed:focus-visible {
  filter: none;
  opacity: 0.3;
}
